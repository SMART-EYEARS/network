# 📚 들어가면서   
   
국제표준화기구는 서로 다른 컴퓨터 간의 통신기능을      
**7계층으로 구분하여** 각 계층마다 **표준화된 서비스와 프로토콜을 규정했다.**          
       
이에 따라,          
* 각 계층의 **원인을 분석**할 수 있어 문제 해결이 쉬워졌다.          
* **네트워크 장비의 문제 없이 데이터를 송수신 할 수 있게되었다. (HW 교체)**         
  * 만약 컴퓨터 전체가 고장났다면? LAN을 확인한다. (물리 계층)   
  * 특정 소프트웨어가 고장났다면? 소프트웨어를 확인한다 (응용 계층)   
  * 스위치에 문제가 있다면? (데이터 링크 계층)    
   
**계층화**
```     
통신 기술의 도입과 통신 기능의 확장을 쉽게 하기 위해       
프로토콜을 몇 개의 계층으로 나누는 것을 말한다.         

쉽게 설명하면, 하나의 결합된 네트워크 장비가 아닌    
모듈로 나누어서 꼭 특정 제품이 아니더라도 교체가 가능하도록 만든 것   
   
단, 각 계층마다 데이터 전송 표준을 지정해서 호환성을 맞춘 것이다.     
```  
1978년 국제표준화기구는 서로 다른 컴퓨터가 네트워크 구조에 상관없이(개방형)통신할 수 있도록    
국제 표준인 OSI(개발형 시스템 상호 연결)참조 모델을 만들었다. (OSI 7 Layer)          
      
# 📗 OSI 7 Layer
**OSI 7 Layer 계층 구조는**    
`응용`-`표현`-`세션`-`전송`-`네트워크`-`데이터 링크`-`물리` 순으로 나뉘어진다.  
   
![00 - osi 7 layer](https://user-images.githubusercontent.com/50267433/106346459-bbf9fa00-62fa-11eb-97fd-b9d95b6fa2c4.png)      
![device](https://user-images.githubusercontent.com/50267433/106347520-6fb2b800-6302-11eb-8f63-83aff752038f.png)   
      
       
|계층|설명|
|---|----|
|응용 계층|용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행한다.<br>응용 프로세스 간의 정보 교환, 전자메일, 파일전송 등의 서비스를 제공한다.<br>쉽게 설명하면, 우리가 쓰는 SW|   
|표현 계층| 코드 변환, 구문 검색, 데이터 압축 및 암호화 등의 기능을 담당한다.<br>응용 -> 세션에 알맞는 데이터로 변환<br>세션 -> 응용에 알맞는 데이터 변환|    
|세션 계층|양 끝단의 응용 프로세스가 통신을 관리하기 위한 방법을 제공한다.<br>**동시송수신(Duplex)**, **반이중(Half-Duplex)**, **전이중(Full-Duplex)** 방식의 통신과 함께<br>체크 포인팅과 유후, 종료, 다시 시작 과정 등을 수행한다.<br>통신 세션을 구성하며 포트 번호를 기반으로 연결한다.
|전송 계층|전체 메시지를 종단 vs 종단(End-to-End, 발신지에서 목적지)간 **제어와 에러**와 같은 **전송 및 성공 여부까지 관리**한다.<br>패킷의 전송이 유효한지 확인하고 전송에 실패된 패킷을 다시 보내는 것과 같은 신뢰성있는 통신을 보장한다.<br>주소 설정, 오류 및 흐름 제어, 다중화를 수행한다.|
|네트워크 계층|다중 네트워크 링크에서 발신지로부터 목적지까지 **전달**할 책임을 가진다.<br>데이터 링크 : Node -> Node <br>네트워크 : 시작점 -> 목적지|
|데이터 링크 계층|두 개의 개방 시스템들 간의 효율적이고 신뢰성있는 정보 전송을 할 수 있도록 하며<br>오류의 검출과 회복을 위한 오류 제어 기능을 수행한다.<br><br>또한, 송신측과 수신측의 속도 차이를 해결하기 위해 흐름 제어기능 을 하며<br>(stop-and-wait & sliding window 방식으로 처리할 수 있는 패킷의 양보다 많은 경우)<br>프레임의 시작과 끝을 구분하기 위한 프레임의 동기화 기능을 수행합니다.|     
|물리 계층|케이블, 연결 장치 등 전송에 필요한 두 장치 간의 실제 접속과 같은 기계적, 전기적 특성에 대한 규칙을 정의|      


<h4> 💡 목적 </h4>         
  
기본적인 하드웨어나 소프트웨어의 **논리적 변경 없이 시스템간의 통신을 개방하는 것**                   
프로토콜이 아니라 **유연하면서 안전하고 상호 연동이 가능한 네트워크 구조를 설계하고 이해하는 모델**         
             
즉, **물리적인 HW는 교체하더라도 논리적인 흐름은 교체하지 않는다.(그리고 이를 위해서 표준 정의)**              
그렇기에 **프로토콜 중심이 아닌,** 전체적인 큰 틀의 네트워크 구조를 설계하고 이에 맞는 HW 생산            
  
___   
   
![9906FE345BDFDBC901](https://user-images.githubusercontent.com/50267433/106284548-b4990900-6286-11eb-9d5f-397e55745897.png)       
* 이미지 참조 [네이버백과사전](https://terms.naver.com/entry.nhn?docId=862736&cid=50373&categoryId=50373)     
          
OSI 참조 모델에서 각 계층은      
* **상위 계층의 요구에 따라 서비스를 제공하고,**       
* **하위 계층은 필요한 서비스를 요구할 수 있다.**        
         
예를 들면, 전송 계층은 네트워크 계층이 제공하는 서비스를 이용하고 세션 계층에 서비스를 제공한다.           
각, **계층마다 역할이 다르기에 서로간 통신할 수 있는 규약 필요**       
       
## 📖 OSI 참조 모델의 데이터 전송      
각 계층은 헤더와 데이터 단위로 정의되며,           
**헤더**에는 각 계층의 **기능과 관련된 정보**가 포함된다.       
 
**`송신측`** `->` **`수신측`**      
수신측에서 헤더를 이용하여 계층에 따라 작업을 처리한다.   

### 📄 상/하위 계층간의 데이터 전송    
   
![패킷 이름](https://user-images.githubusercontent.com/50267433/106346712-468f2900-62fc-11eb-924f-fadf285f8327.png)    
* 이미지 출처 : https://blog.daum.net/ca-cy/4    
      
상/하위 계층간의 송수신하는 데이터를 **SDU(Service Data Unit)** 라고 부른다.       
상위 계층의 데이터를 수신할 때는 **`상위 SDU`** `+` **`PCI`** 가 붙는다.       
또한 계층마다 이러한 **SDU(Service Data Unit)의 이름이 다르다.**         
            
사진에는 안 나왔지만, 예외적으로 `데이터 링크`에서는 **트레일러도 추가된다.**                     

### 📄 다른 시스템의 같은 계층간의 데이터 전송    
   
![osi_2](https://user-images.githubusercontent.com/50267433/106346763-a8e82980-62fc-11eb-9e9e-8a9a44742ca4.gif)
* 이미지 출처 : https://haedallog.tistory.com/79   

같은 계층간의 송수신하는 데이터를 **PDU(Protocol Data Unit)** 라고 부른다.       
사실, 다른 시스템의 **SDU**를 받는 개념이라 생각하면 된다.       
     
**PCI(Protocol Control Information)**         
* 흐름 제어 정보
* 오류 제어 정보
* 주소 정보등이 포함 
  
![unnamed](https://user-images.githubusercontent.com/50267433/106347313-dcc54e00-6300-11eb-810b-123b320dc928.jpg)      
  
![unnamed](https://user-images.githubusercontent.com/50267433/106347252-76d8c680-6300-11eb-9b9e-fa1d02e5b40d.png)          

* 네트워크 계층  
* 데이터 링크 계층
* 물리 계층 

한정으로, 시스템간의 통신에 **중간 노드가 존재**한다.           
   
# TCP/IP 4 Layer   
